const DEFAULTSCROLLSTEPX=50*window.innerWidth/1920,DEFAULTSCROLLSTEPY=50*window.innerHeight/937,DEFAULTMINANIMATIONFRAMES=5;var uss={_xMapContainerAnimationID:new Map,_yMapContainerAnimationID:new Map,_xStepLengthCalculator:new Map,_yStepLengthCalculator:new Map,_scrollStepX:DEFAULTSCROLLSTEPX,_scrollStepY:DEFAULTSCROLLSTEPY,_minAnimationFrame:5,isXscrolling:function(t=window){const n=uss._xMapContainerAnimationID.get(t);return void 0!==n&&n.length>0},isYscrolling:function(t=window){const n=uss._yMapContainerAnimationID.get(t);return void 0!==n&&n.length>0},getXStepLengthCalculator:function(t=window){return uss._xStepLengthCalculator.get(t)},getYStepLengthCalculator:function(t=window){return uss._yStepLengthCalculator.get(t)},getScrollStepX:function(){return uss._scrollStepX},getScrollStepY:function(){return uss._scrollStepY},getMinAnimationFrame:function(){return uss._minAnimationFrame},setXStepLengthCalculator:function(t,n=window){if("function"!=typeof t)return;"number"==typeof t(Math.random()*window.innerWidth)&&uss._xStepLengthCalculator.set(n,t)},setYStepLengthCalculator:function(t,n=window){if("function"!=typeof t)return;"number"==typeof t(Math.random()*window.innerHeight)&&uss._yStepLengthCalculator.set(n,t)},setScrollStepX:function(t){typeof t==typeof uss._scrollStepX&&t<=0||(uss._scrollStepX=t)},setScrollStepY:function(t){typeof t==typeof uss._scrollStepY&&t<=0||(uss._scrollStepY=t)},setMinAnimationFrame:function(t){typeof t==typeof uss._minAnimationFrame&&t<=0||(uss._minAnimationFrame=t)},calcStepXLenght:function(t){return t>=(uss._minAnimationFrame-1)*uss._scrollStepX?uss._scrollStepX:Math.round(t/uss._minAnimationFrame)},calcStepYLenght:function(t){return t>=(uss._minAnimationFrame-1)*uss._scrollStepY?uss._scrollStepY:Math.round(t/uss._minAnimationFrame)},containerScrollingXFunction:function(t=window){return t instanceof HTMLElement?()=>t.scrollLeft:()=>t.scrollX},containerScrollingYFunction:function(t=window){return t instanceof HTMLElement?()=>t.scrollTop:()=>t.scrollY},containerMaxScrollX:function(t){let n=document.body,o=document.documentElement;return t instanceof HTMLElement?t.scrollWidth-t.offsetWidth:Math.max(n.scrollWidth,n.offsetWidth,n.clientWidth,o.clientWidth,o.scrollWidth,o.offsetWidth)-window.innerWidth},containerMaxScrollY:function(t){let n=document.body,o=document.documentElement;return t instanceof HTMLElement?t.scrollHeight-t.offsetHeight:Math.max(n.scrollHeight,n.offsetHeight,n.clientHeight,o.clientHeight,o.scrollHeight,o.offsetHeight)-window.innerHeight},getScrollParent:function(t=window,n=!1){try{let o=getComputedStyle(t);const e="absolute"===o.position,i=n?/(auto|scroll|hidden)/:/(auto|scroll)/;if("fixed"===o.position)return window;for(let n=t;n=n.parentElement;)if(o=getComputedStyle(n),(!e||"static"!==o.position)&&i.test(o.overflow+o.overflowY+o.overflowX))return n;return window}catch(t){console.log("USS error: Couldn't get the container of the passed element")}},scrollXTo:function(t,n=window,o=(()=>{}),e=!1){if(void 0===t)return;const i=uss.containerMaxScrollX(n);if(i<=0)return;t<0?t=0:t>i&&(t=i);const s=uss.containerScrollingXFunction(n),r=uss.containerScrollingYFunction(n);let l=t-s();const u=Math.sign(l);if((l*=u)<=0)return void("function"==typeof o&&setTimeout(o,0));const c=uss.calcStepXLenght(l);!1===e&&uss.stopScrollingX(n);let f=uss._xMapContainerAnimationID.get(n);void 0===f&&(f=[]),f.push(window.requestAnimationFrame(function e(){f=uss._xMapContainerAnimationID.get(n);f.shift();l=Math.abs(t-s());let i;void 0===uss._xStepLengthCalculator.get(n)?i=c:(i=uss._xStepLengthCalculator.get(n)(l))<0&&(i=c);if(l<=i)return n.scroll(s()+l*u,r()),uss._xMapContainerAnimationID.set(n,f),void("function"==typeof o&&setTimeout(o,0));n.scroll(s()+i*u,r());f.push(window.requestAnimationFrame(e));uss._xMapContainerAnimationID.set(n,f)})),uss._xMapContainerAnimationID.set(n,f)},scrollYTo:function(t,n=window,o=(()=>{}),e=!1){if(void 0===t)return;const i=uss.containerMaxScrollY(n);if(i<=0)return;t<0?t=0:t>i&&(t=i);const s=uss.containerScrollingXFunction(n),r=uss.containerScrollingYFunction(n);let l=t-r();const u=Math.sign(l);if((l*=u)<=0)return void("function"==typeof o&&setTimeout(o,0));const c=uss.calcStepYLenght(l);!1===e&&uss.stopScrollingY(n);let f=uss._yMapContainerAnimationID.get(n);void 0===f&&(f=[]),f.push(window.requestAnimationFrame(function e(){f=uss._yMapContainerAnimationID.get(n);f.shift();l=Math.abs(t-r());let i;void 0===uss._yStepLengthCalculator.get(n)?i=c:(i=uss._yStepLengthCalculator.get(n)(l))<0&&(i=c);if(l<=i)return n.scroll(s(),r()+l*u),uss._yMapContainerAnimationID.set(n,f),void("function"==typeof o&&setTimeout(o,0));n.scroll(s(),r()+i*u);f.push(window.requestAnimationFrame(e));uss._yMapContainerAnimationID.set(n,f)})),uss._yMapContainerAnimationID.set(n,f)},scrollXBy:function(t,n=window,o=(()=>{}),e=!1){if("number"!=typeof t||0===t)return;const i=uss.containerScrollingXFunction(n);uss.scrollXTo(i()+t,n,o,e)},scrollYBy:function(t,n=window,o=(()=>{}),e=!1){if("number"!=typeof t||0===t)return;const i=uss.containerScrollingYFunction(n);uss.scrollYTo(i()+t,n,o,e)},scrollTo:function(t,n,o=window,e=window,i=(()=>{}),s=(()=>{}),r=!1,l=!1){setTimeout(()=>uss.scrollXTo(t,o,i,r),0),setTimeout(()=>uss.scrollYTo(n,e,s,l),0)},scrollBy:function(t,n,o=window,e=window,i=(()=>{}),s=(()=>{}),r=!1,l=!1){setTimeout(()=>uss.scrollXBy(t,o,i,r),0),setTimeout(()=>uss.scrollYBy(n,e,s,l),0)},scrollIntoView:function(t=window,n=!0,o=!0,e=!1){if(t===window)return;const i=uss.getScrollParent(t,e);let s,r;if(i!==window){const e=!0===n?i.offsetLeft:!1===n?i.offsetLeft-window.innerWidth+i.offsetWidth:i.offsetLeft-window.innerWidth/2+i.offsetWidth/2,l=!0===o?i.offsetTop:!1===o?i.offsetTop-window.innerHeight+i.offsetHeight:i.offsetTop-window.innerHeight/2+i.offsetHeight/2;s=!0===n?t.offsetLeft-e:!1===n?t.offsetLeft-i.offsetLeft-i.offsetWidth+t.offsetWidth:t.offsetLeft-i.offsetLeft-i.offsetWidth/2+t.offsetWidth/2,r=!0===o?t.offsetTop-l:!1===o?t.offsetTop-i.offsetTop-i.offsetHeight+t.offsetHeight:t.offsetTop-i.offsetTop-i.offsetHeight/2+t.offsetHeight/2,setTimeout(()=>uss.scrollXTo(e,window,null,!1),0),setTimeout(()=>uss.scrollYTo(l,window,null,!1),0)}else s=!0===n?t.offsetLeft:!1===n?t.offsetLeft-i.innerWidth+t.offsetWidth:t.offsetLeft-i.innerWidth/2+t.offsetWidth/2,r=!0===o?t.offsetTop:!1===o?t.offsetTop-i.innerHeight+t.offsetHeight:t.offsetTop-i.innerHeight/2+t.offsetHeight/2;setTimeout(()=>uss.scrollXTo(s,i,null,!1),0),setTimeout(()=>uss.scrollYTo(r,i,null,!1),0)},stopScrollingX:function(t=window,n=(()=>{})){let o=uss._xMapContainerAnimationID.get(t);void 0!==o&&0!==o.length&&(o.forEach(t=>window.cancelAnimationFrame(t)),uss._xMapContainerAnimationID.set(t,[]),"function"==typeof n&&setTimeout(n,0))},stopScrollingY:function(t=window,n=(()=>{})){let o=uss._yMapContainerAnimationID.get(t);void 0!==o&&0!==o.length&&(o.forEach(t=>window.cancelAnimationFrame(t)),uss._yMapContainerAnimationID.set(t,[]),"function"==typeof n&&setTimeout(n,0))},hrefSetup:function(t=!1){const n=document.getElementsByTagName("a");for(pageLink of n){const n=document.getElementById(pageLink.href.split("#")[1]);n instanceof HTMLElement&&pageLink.addEventListener("click",o=>{o.preventDefault(),uss.scrollIntoView(n,!0,!0,t)},{passive:!1})}}};