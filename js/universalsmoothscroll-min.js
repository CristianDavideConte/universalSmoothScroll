const DEFAULTXSTEPLENGTH=50*window.innerWidth/1920,DEFAULTYSTEPLENGTH=50*window.innerHeight/937,DEFAULTMINANIMATIONFRAMES=5;var uss={_xMapContainerAnimationID:new Map,_yMapContainerAnimationID:new Map,_xStepLengthCalculator:new Map,_yStepLengthCalculator:new Map,_xStepLength:DEFAULTXSTEPLENGTH,_yStepLength:DEFAULTYSTEPLENGTH,_minAnimationFrame:5,isXscrolling:function(t=window){const n=uss._xMapContainerAnimationID.get(t);return void 0!==n&&n.length>0},isYscrolling:function(t=window){const n=uss._yMapContainerAnimationID.get(t);return void 0!==n&&n.length>0},getXStepLengthCalculator:function(t=window){return uss._xStepLengthCalculator.get(t)},getYStepLengthCalculator:function(t=window){return uss._yStepLengthCalculator.get(t)},getXStepLength:function(){return uss._xStepLength},getYStepLength:function(){return uss._yStepLength},getMinAnimationFrame:function(){return uss._minAnimationFrame},setXStepLengthCalculator:function(t,n=window){if("function"!=typeof t)return;let e=Math.random()*window.innerWidth;"number"==typeof t(e,e)&&uss._xStepLengthCalculator.set(n,t)},setYStepLengthCalculator:function(t,n=window){if("function"!=typeof t)return;let e=Math.random()*window.innerHeight;"number"==typeof t(e,e)&&uss._yStepLengthCalculator.set(n,t)},setXStepLength:function(t){"number"==typeof t&&(t<=0||(uss._xStepLength=t))},setYStepLength:function(t){"number"==typeof t&&(t<=0||(uss._yStepLength=t))},setMinAnimationFrame:function(t){"number"==typeof t&&(t<=0||(uss._minAnimationFrame=t))},calcXStepLength:function(t){return t>=(uss._minAnimationFrame-1)*uss._xStepLength?uss._xStepLength:Math.round(t/uss._minAnimationFrame)},calcYStepLength:function(t){return t>=(uss._minAnimationFrame-1)*uss._yStepLength?uss._yStepLength:Math.round(t/uss._minAnimationFrame)},getScrollXCalculator:function(t=window){return t instanceof HTMLElement?()=>t.scrollLeft:()=>t.scrollX},getScrollYCalculator:function(t=window){return t instanceof HTMLElement?()=>t.scrollTop:()=>t.scrollY},getMaxScrollX:function(t=window){let n=document.body,e=document.documentElement;return t instanceof HTMLElement?t.scrollWidth-t.offsetWidth:Math.max(n.scrollWidth,n.offsetWidth,n.clientWidth,e.clientWidth,e.scrollWidth,e.offsetWidth)-window.innerWidth},getMaxScrollY:function(t=window){let n=document.body,e=document.documentElement;return t instanceof HTMLElement?t.scrollHeight-t.offsetHeight:Math.max(n.scrollHeight,n.offsetHeight,n.clientHeight,e.clientHeight,e.scrollHeight,e.offsetHeight)-window.innerHeight},getScrollableParent:function(t=window,n=!1){try{let e=getComputedStyle(t);const o="absolute"===e.position,i=n?/(auto|scroll|hidden)/:/(auto|scroll)/;if("fixed"===e.position)return window;for(let n=t;n=n.parentElement;)if(e=getComputedStyle(n),(!o||"static"!==e.position)&&i.test(e.overflow+e.overflowY+e.overflowX))return n;return window}catch(t){console.log("USS error: Couldn't get the container of the passed element")}},scrollXTo:function(t,n=window,e=(()=>{}),o=!1){if("number"!=typeof t)return;const i=uss.getMaxScrollX(n);if(i<=0)return;t<0?t=0:t>i&&(t=i);const s=uss.getScrollXCalculator(n),l=uss.getScrollYCalculator(n);let r=t-s();const u=Math.sign(r);if((r*=u)<=0)return void("function"==typeof e&&setTimeout(e,0));const a=uss.calcXStepLength(r);!1===o&&uss.stopScrollingX(n);let c=uss._xMapContainerAnimationID.get(n);void 0===c&&(c=[]),c.push(window.requestAnimationFrame(function o(i){c=uss._xMapContainerAnimationID.get(n);c.shift();r=Math.abs(t-s());let w;"function"!=typeof f?w=a:(w=f(r,i))<0&&(w=a);if(r<=w)return n.scroll(s()+r*u,l()),uss._xMapContainerAnimationID.set(n,c),void("function"==typeof e&&setTimeout(e,0));n.scroll(s()+w*u,l());c.push(window.requestAnimationFrame(o));uss._xMapContainerAnimationID.set(n,c)})),uss._xMapContainerAnimationID.set(n,c);const f=uss._xStepLengthCalculator.get(n)},scrollYTo:function(t,n=window,e=(()=>{}),o=!1){if("number"!=typeof t)return;const i=uss.getMaxScrollY(n);if(i<=0)return;t<0?t=0:t>i&&(t=i);const s=uss.getScrollXCalculator(n),l=uss.getScrollYCalculator(n);let r=t-l();const u=Math.sign(r);if((r*=u)<=0)return void("function"==typeof e&&setTimeout(e,0));const a=uss.calcYStepLength(r);!1===o&&uss.stopScrollingY(n);let c=uss._yMapContainerAnimationID.get(n);void 0===c&&(c=[]),c.push(window.requestAnimationFrame(function o(i){c=uss._yMapContainerAnimationID.get(n);c.shift();r=Math.abs(t-l());let w;"function"!=typeof f?w=a:(w=f(r,i))<0&&(w=a);if(r<=w)return n.scroll(s(),l()+r*u),uss._yMapContainerAnimationID.set(n,c),void("function"==typeof e&&setTimeout(e,0));n.scroll(s(),l()+w*u);c.push(window.requestAnimationFrame(o));uss._yMapContainerAnimationID.set(n,c)})),uss._yMapContainerAnimationID.set(n,c);const f=uss._yStepLengthCalculator.get(n)},scrollXBy:function(t,n=window,e=(()=>{}),o=!1){"number"==typeof t&&0!==t&&uss.scrollXTo(uss.getScrollXCalculator(n)()+t,n,e,o)},scrollYBy:function(t,n=window,e=(()=>{}),o=!1){"number"==typeof t&&0!==t&&uss.scrollYTo(uss.getScrollYCalculator(n)()+t,n,e,o)},scrollTo:function(t,n,e=window,o=window,i=(()=>{}),s=(()=>{}),l=!1,r=!1){setTimeout(()=>uss.scrollXTo(t,e,i,l),0),setTimeout(()=>uss.scrollYTo(n,o,s,r),0)},scrollBy:function(t,n,e=window,o=window,i=(()=>{}),s=(()=>{}),l=!1,r=!1){setTimeout(()=>uss.scrollXBy(t,e,i,l),0),setTimeout(()=>uss.scrollYBy(n,o,s,r),0)},scrollIntoView:function(t=window,n=!0,e=!0,o=!1){if(t===window)return;const i=uss.getScrollableParent(t,o),s=t.getBoundingClientRect();let l,r;if(i!==window){const t=i.getBoundingClientRect(),o=!0===n?t.left:!1===n?t.left-window.innerWidth+t.width:t.left-window.innerWidth/2+t.width/2,u=!0===e?t.top:!1===e?t.top-window.innerHeight+t.height:t.top-window.innerHeight/2+t.height/2;l=!0===n?s.left-t.left:!1===n?s.left-t.left-t.width+s.width:s.left-t.left-t.width/2+s.width/2,r=!0===e?s.top-t.top:!1===e?s.top-t.top-t.height+s.height:s.top-t.top-t.height/2+s.height/2,setTimeout(()=>uss.scrollXBy(o,window,null,!1),0),setTimeout(()=>uss.scrollYBy(u,window,null,!1),0)}else l=!0===n?s.left:!1===n?s.left-window.innerWidth+s.width:s.left-window.innerWidth/2+s.width/2,r=!0===e?s.top:!1===e?s.top-window.innerHeight+s.height:s.top-window.innerHeight/2+s.height/2;setTimeout(()=>uss.scrollXBy(l,i,null,!1),0),setTimeout(()=>uss.scrollYBy(r,i,null,!1),0)},stopScrollingX:function(t=window,n=(()=>{})){let e=uss._xMapContainerAnimationID.get(t);void 0!==e&&0!==e.length&&(e.forEach(t=>window.cancelAnimationFrame(t)),uss._xMapContainerAnimationID.set(t,[]),"function"==typeof n&&setTimeout(n,0))},stopScrollingY:function(t=window,n=(()=>{})){let e=uss._yMapContainerAnimationID.get(t);void 0!==e&&0!==e.length&&(e.forEach(t=>window.cancelAnimationFrame(t)),uss._yMapContainerAnimationID.set(t,[]),"function"==typeof n&&setTimeout(n,0))},hrefSetup:function(t=!1){const n=document.links,e=document.URL.split("#")[0];for(pageLink of n){const n=pageLink.href.split("#");if(n[0]!==e)continue;const o=document.getElementById(n[1]);o instanceof HTMLElement&&pageLink.addEventListener("click",n=>{n.preventDefault(),uss.scrollIntoView(o,!0,!0,t)},{passive:!1})}}};