const DEFAULTXSTEPLENGTH=50*window.innerWidth/1920,DEFAULTYSTEPLENGTH=50*window.innerHeight/937,DEFAULTMINANIMATIONFRAMES=5;var uss={_xMapContainerAnimationID:new Map,_yMapContainerAnimationID:new Map,_xStepLengthCalculator:new Map,_yStepLengthCalculator:new Map,_xStepLength:DEFAULTXSTEPLENGTH,_yStepLength:DEFAULTYSTEPLENGTH,_minAnimationFrame:DEFAULTMINANIMATIONFRAMES,isXscrolling:function(a=window){const b=uss._xMapContainerAnimationID.get(a);return"undefined"!=typeof b&&0<b.length},isYscrolling:function(a=window){const b=uss._yMapContainerAnimationID.get(a);return"undefined"!=typeof b&&0<b.length},getXStepLengthCalculator:function(a=window){return uss._xStepLengthCalculator.get(a)},getYStepLengthCalculator:function(a=window){return uss._yStepLengthCalculator.get(a)},getXStepLength:function(){return uss._xStepLength},getYStepLength:function(){return uss._yStepLength},getMinAnimationFrame:function(){return uss._minAnimationFrame},setXStepLengthCalculator:function(a=void 0,b=window){if("function"==typeof a){let c=Math.random()*window.innerWidth;"number"!=typeof a(c,c)||window.isNan(a(c,c))||uss._xStepLengthCalculator.set(b,a)}},setYStepLengthCalculator:function(a=void 0,b=window){if("function"==typeof a){let c=Math.random()*window.innerHeight;"number"!=typeof a(c,c)||window.isNan(a(c,c))||uss._yStepLengthCalculator.set(b,a)}},setXStepLength:function(a){"number"!=typeof a||window.isNaN(a)||0>=a||(uss._xStepLength=a)},setYStepLength:function(a){"number"!=typeof a||window.isNaN(a)||0>=a||(uss._yStepLength=a)},setMinAnimationFrame:function(a){"number"!=typeof a||window.isNaN(a)||0>=a||(uss._minAnimationFrame=a)},calcXStepLength:function(a){return a>=(uss._minAnimationFrame-1)*uss._xStepLength?uss._xStepLength:Math.round(a/uss._minAnimationFrame)},calcYStepLength:function(a){return a>=(uss._minAnimationFrame-1)*uss._yStepLength?uss._yStepLength:Math.round(a/uss._minAnimationFrame)},getScrollXCalculator:function(a=window){return a instanceof HTMLElement?()=>a.scrollLeft:()=>a.scrollX},getScrollYCalculator:function(a=window){return a instanceof HTMLElement?()=>a.scrollTop:()=>a.scrollY},getMaxScrollX:function(a=window){let b=document.body,c=document.documentElement;return a instanceof HTMLElement?a.scrollWidth-a.offsetWidth:Math.max(b.scrollWidth,b.offsetWidth,b.clientWidth,c.clientWidth,c.scrollWidth,c.offsetWidth)-window.innerWidth},getMaxScrollY:function(a=window){let b=document.body,c=document.documentElement;return a instanceof HTMLElement?a.scrollHeight-a.offsetHeight:Math.max(b.scrollHeight,b.offsetHeight,b.clientHeight,c.clientHeight,c.scrollHeight,c.offsetHeight)-window.innerHeight},getScrollableParent:function(a=window,b=!1){try{let c=getComputedStyle(a);const d="absolute"===c.position,e=b?/(auto|scroll|hidden)/:/(auto|scroll)/;if("fixed"===c.position)return window;for(let b=a;b=b.parentElement;)if(c=getComputedStyle(b),!(d&&"static"===c.position)&&e.test(c.overflow+c.overflowY+c.overflowX))return b;return window}catch(a){console.log("USS error: Couldn't get the container of the passed element")}},scrollXTo:function(a,b=window,c=()=>{},d=!1){function e(d){l=uss._xMapContainerAnimationID.get(b),l.shift(),i=Math.abs(a-g());let f;return"function"==typeof m?(f=m(i,d),0>f&&(f=k)):f=k,i<=f?(b.scroll(g()+i*j,h()),uss._xMapContainerAnimationID.set(b,l),void("function"==typeof c&&setTimeout(c,0))):void(b.scroll(g()+f*j,h()),l.push(window.requestAnimationFrame(e)),uss._xMapContainerAnimationID.set(b,l))}if("number"!=typeof a||window.isNaN(a))return;const f=uss.getMaxScrollX(b);if(0>=f)return;0>a?a=0:a>f&&(a=f);const g=uss.getScrollXCalculator(b),h=uss.getScrollYCalculator(b);let i=a-g();const j=Math.sign(i);if(i*=j,0>=i)return void("function"==typeof c&&setTimeout(c,0));const k=uss.calcXStepLength(i);!1===d&&uss.stopScrollingX(b);let l=uss._xMapContainerAnimationID.get(b);"undefined"==typeof l&&(l=[]),l.push(window.requestAnimationFrame(e)),uss._xMapContainerAnimationID.set(b,l);const m=uss._xStepLengthCalculator.get(b)},scrollYTo:function(a,b=window,c=()=>{},d=!1){function e(d){l=uss._yMapContainerAnimationID.get(b),l.shift(),i=Math.abs(a-h());let f;return"function"==typeof m?(f=m(i,d),0>f&&(f=k)):f=k,i<=f?(b.scroll(g(),h()+i*j),uss._yMapContainerAnimationID.set(b,l),void("function"==typeof c&&setTimeout(c,0))):void(b.scroll(g(),h()+f*j),l.push(window.requestAnimationFrame(e)),uss._yMapContainerAnimationID.set(b,l))}if("number"!=typeof a||window.isNaN(a))return;const f=uss.getMaxScrollY(b);if(0>=f)return;0>a?a=0:a>f&&(a=f);const g=uss.getScrollXCalculator(b),h=uss.getScrollYCalculator(b);let i=a-h();const j=Math.sign(i);if(i*=j,0>=i)return void("function"==typeof c&&setTimeout(c,0));const k=uss.calcYStepLength(i);!1===d&&uss.stopScrollingY(b);let l=uss._yMapContainerAnimationID.get(b);"undefined"==typeof l&&(l=[]),l.push(window.requestAnimationFrame(e)),uss._yMapContainerAnimationID.set(b,l);const m=uss._yStepLengthCalculator.get(b)},scrollXBy:function(a,b=window,c=()=>{},d=!1){"number"!=typeof a||window.isNaN(a)||0===a||uss.scrollXTo(uss.getScrollXCalculator(b)()+a,b,c,d)},scrollYBy:function(a,b=window,c=()=>{},d=!1){"number"!=typeof a||window.isNaN(a)||0===a||uss.scrollYTo(uss.getScrollYCalculator(b)()+a,b,c,d)},scrollTo:function(a,b,c=window,d=window,e=()=>{},f=()=>{},g=!1,h=!1){setTimeout(()=>uss.scrollXTo(a,c,e,g),0),setTimeout(()=>uss.scrollYTo(b,d,f,h),0)},scrollBy:function(a,b,c=window,d=window,e=()=>{},f=()=>{},g=!1,h=!1){setTimeout(()=>uss.scrollXBy(a,c,e,g),0),setTimeout(()=>uss.scrollYBy(b,d,f,h),0)},scrollIntoView:function(a=window,b=!0,c=!0,d=!1){if(a===window)return;const e=uss.getScrollableParent(a,d),f=a.getBoundingClientRect();let g,h;if(e!==window){const a=e.getBoundingClientRect(),d=!0===b?a.left:!1===b?a.left-window.innerWidth+a.width:a.left-window.innerWidth/2+a.width/2,i=!0===c?a.top:!1===c?a.top-window.innerHeight+a.height:a.top-window.innerHeight/2+a.height/2;g=!0===b?f.left-a.left:!1===b?f.left-a.left-a.width+f.width:f.left-a.left-a.width/2+f.width/2,h=!0===c?f.top-a.top:!1===c?f.top-a.top-a.height+f.height:f.top-a.top-a.height/2+f.height/2,setTimeout(()=>uss.scrollXBy(d,window,null,!1),0),setTimeout(()=>uss.scrollYBy(i,window,null,!1),0)}else g=!0===b?f.left:!1===b?f.left-window.innerWidth+f.width:f.left-window.innerWidth/2+f.width/2,h=!0===c?f.top:!1===c?f.top-window.innerHeight+f.height:f.top-window.innerHeight/2+f.height/2;setTimeout(()=>uss.scrollXBy(g,e,null,!1),0),setTimeout(()=>uss.scrollYBy(h,e,null,!1),0)},stopScrollingX:function(a=window,b=()=>{}){let c=uss._xMapContainerAnimationID.get(a);"undefined"==typeof c||0===c.length||(c.forEach(a=>window.cancelAnimationFrame(a)),uss._xMapContainerAnimationID.set(a,[]),"function"==typeof b&&setTimeout(b,0))},stopScrollingY:function(a=window,b=()=>{}){let c=uss._yMapContainerAnimationID.get(a);"undefined"==typeof c||0===c.length||(c.forEach(a=>window.cancelAnimationFrame(a)),uss._yMapContainerAnimationID.set(a,[]),"function"==typeof b&&setTimeout(b,0))},hrefSetup:function(a=!1){const b=document.links,c=document.URL.split("#")[0];for(pageLink of b){const b=pageLink.href.split("#");if(b[0]!==c)continue;const d=document.getElementById(b[1]);d instanceof HTMLElement&&pageLink.addEventListener("click",b=>{b.preventDefault(),uss.scrollIntoView(d,!0,!0,a)},{passive:!1})}}};
