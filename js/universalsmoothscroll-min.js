const DEFAULTXSTEPLENGTH=50*window.innerWidth/1920,DEFAULTYSTEPLENGTH=50*window.innerHeight/937,DEFAULTMINANIMATIONFRAMES=5;var uss={_xMapContainerAnimationID:new Map,_yMapContainerAnimationID:new Map,_xStepLengthCalculator:new Map,_yStepLengthCalculator:new Map,_xStepLength:DEFAULTXSTEPLENGTH,_yStepLength:DEFAULTYSTEPLENGTH,_minAnimationFrame:5,isXscrolling:function(t=window){const e=uss._xMapContainerAnimationID.get(t);return void 0!==e&&e.length>0},isYscrolling:function(t=window){const e=uss._yMapContainerAnimationID.get(t);return void 0!==e&&e.length>0},getXStepLengthCalculator:function(t=window){return uss._xStepLengthCalculator.get(t)},getYStepLengthCalculator:function(t=window){return uss._yStepLengthCalculator.get(t)},getXStepLength:function(){return uss._xStepLength},getYStepLength:function(){return uss._yStepLength},getMinAnimationFrame:function(){return uss._minAnimationFrame},setXStepLengthCalculator:function(t,e=window){if("function"!=typeof t)return;let n=Math.random()*window.innerWidth;"number"==typeof t(n,n)&&uss._xStepLengthCalculator.set(e,t)},setYStepLengthCalculator:function(t,e=window){if("function"!=typeof t)return;let n=Math.random()*window.innerHeight;"number"==typeof t(n,n)&&uss._yStepLengthCalculator.set(e,t)},setXStepLength:function(t){typeof t==typeof uss._xStepLength&&t<=0||(uss._xStepLength=t)},setYStepLength:function(t){typeof t==typeof uss._yStepLength&&t<=0||(uss._yStepLength=t)},setMinAnimationFrame:function(t){"number"==typeof t&&(t<=0||(uss._minAnimationFrame=t))},calcXStepLength:function(t){return t>=(uss._minAnimationFrame-1)*uss._xStepLength?uss._xStepLength:Math.round(t/uss._minAnimationFrame)},calcYStepLength:function(t){return t>=(uss._minAnimationFrame-1)*uss._yStepLength?uss._yStepLength:Math.round(t/uss._minAnimationFrame)},getScrollXCalculator:function(t=window){return t instanceof HTMLElement?()=>t.scrollLeft:()=>t.scrollX},getScrollYCalculator:function(t=window){return t instanceof HTMLElement?()=>t.scrollTop:()=>t.scrollY},getMaxScrollX:function(t){let e=document.body,n=document.documentElement;return t instanceof HTMLElement?t.scrollWidth-t.offsetWidth:Math.max(e.scrollWidth,e.offsetWidth,e.clientWidth,n.clientWidth,n.scrollWidth,n.offsetWidth)-window.innerWidth},getMaxScrollY:function(t){let e=document.body,n=document.documentElement;return t instanceof HTMLElement?t.scrollHeight-t.offsetHeight:Math.max(e.scrollHeight,e.offsetHeight,e.clientHeight,n.clientHeight,n.scrollHeight,n.offsetHeight)-window.innerHeight},getScrollableParent:function(t=window,e=!1){try{let n=getComputedStyle(t);const o="absolute"===n.position,i=e?/(auto|scroll|hidden)/:/(auto|scroll)/;if("fixed"===n.position)return window;for(let e=t;e=e.parentElement;)if(n=getComputedStyle(e),(!o||"static"!==n.position)&&i.test(n.overflow+n.overflowY+n.overflowX))return e;return window}catch(t){console.log("USS error: Couldn't get the container of the passed element")}},scrollXTo:function(t,e=window,n=(()=>{}),o=!1){if("number"!=typeof t)return;const i=uss.getMaxScrollX(e);if(i<=0)return;t<0?t=0:t>i&&(t=i);const s=uss.getScrollXCalculator(e),l=uss.getScrollYCalculator(e);let r=t-s();const u=Math.sign(r);if((r*=u)<=0)return void("function"==typeof n&&setTimeout(n,0));const f=uss.calcXStepLength(r);!1===o&&uss.stopScrollingX(e);let a=uss._xMapContainerAnimationID.get(e);void 0===a&&(a=[]),a.push(window.requestAnimationFrame(function o(i){a=uss._xMapContainerAnimationID.get(e);a.shift();r=Math.abs(t-s());let p;"function"!=typeof c?p=f:(p=c(r,i))<0&&(p=f);if(r<=p)return e.scroll(s()+r*u,l()),uss._xMapContainerAnimationID.set(e,a),void("function"==typeof n&&setTimeout(n,0));e.scroll(s()+p*u,l());a.push(window.requestAnimationFrame(o));uss._xMapContainerAnimationID.set(e,a)})),uss._xMapContainerAnimationID.set(e,a);const c=uss._xStepLengthCalculator.get(e)},scrollYTo:function(t,e=window,n=(()=>{}),o=!1){if("number"!=typeof t)return;const i=uss.getMaxScrollY(e);if(i<=0)return;t<0?t=0:t>i&&(t=i);const s=uss.getScrollXCalculator(e),l=uss.getScrollYCalculator(e);let r=t-l();const u=Math.sign(r);if((r*=u)<=0)return void("function"==typeof n&&setTimeout(n,0));const f=uss.calcYStepLength(r);!1===o&&uss.stopScrollingY(e);let a=uss._yMapContainerAnimationID.get(e);void 0===a&&(a=[]),a.push(window.requestAnimationFrame(function o(i){a=uss._yMapContainerAnimationID.get(e);a.shift();r=Math.abs(t-l());let p;"function"!=typeof c?p=f:(p=c(r,i))<0&&(p=f);if(r<=p)return e.scroll(s(),l()+r*u),uss._yMapContainerAnimationID.set(e,a),void("function"==typeof n&&setTimeout(n,0));e.scroll(s(),l()+p*u);a.push(window.requestAnimationFrame(o));uss._yMapContainerAnimationID.set(e,a)})),uss._yMapContainerAnimationID.set(e,a);const c=uss._yStepLengthCalculator.get(e)},scrollXBy:function(t,e=window,n=(()=>{}),o=!1){"number"==typeof t&&0!==t&&uss.scrollXTo(uss.getScrollXCalculator(e)()+t,e,n,o)},scrollYBy:function(t,e=window,n=(()=>{}),o=!1){"number"==typeof t&&0!==t&&uss.scrollYTo(uss.getScrollYCalculator(e)()+t,e,n,o)},scrollTo:function(t,e,n=window,o=window,i=(()=>{}),s=(()=>{}),l=!1,r=!1){setTimeout(()=>uss.scrollXTo(t,n,i,l),0),setTimeout(()=>uss.scrollYTo(e,o,s,r),0)},scrollBy:function(t,e,n=window,o=window,i=(()=>{}),s=(()=>{}),l=!1,r=!1){setTimeout(()=>uss.scrollXBy(t,n,i,l),0),setTimeout(()=>uss.scrollYBy(e,o,s,r),0)},scrollIntoView:function(t=window,e=!0,n=!0,o=!1){if(t===window)return;const i=uss.getScrollableParent(t,o);let s,l;if(i!==window){const o=!0===e?i.offsetLeft:!1===e?i.offsetLeft-window.innerWidth+i.offsetWidth:i.offsetLeft-window.innerWidth/2+i.offsetWidth/2,r=!0===n?i.offsetTop:!1===n?i.offsetTop-window.innerHeight+i.offsetHeight:i.offsetTop-window.innerHeight/2+i.offsetHeight/2;s=!0===e?t.offsetLeft-o:!1===e?t.offsetLeft-i.offsetLeft-i.offsetWidth+t.offsetWidth:t.offsetLeft-i.offsetLeft-i.offsetWidth/2+t.offsetWidth/2,l=!0===n?t.offsetTop-r:!1===n?t.offsetTop-i.offsetTop-i.offsetHeight+t.offsetHeight:t.offsetTop-i.offsetTop-i.offsetHeight/2+t.offsetHeight/2,setTimeout(()=>uss.scrollXTo(o,window,null,!1),0),setTimeout(()=>uss.scrollYTo(r,window,null,!1),0)}else s=!0===e?t.offsetLeft:!1===e?t.offsetLeft-i.innerWidth+t.offsetWidth:t.offsetLeft-i.innerWidth/2+t.offsetWidth/2,l=!0===n?t.offsetTop:!1===n?t.offsetTop-i.innerHeight+t.offsetHeight:t.offsetTop-i.innerHeight/2+t.offsetHeight/2;setTimeout(()=>uss.scrollXTo(s,i,null,!1),0),setTimeout(()=>uss.scrollYTo(l,i,null,!1),0)},stopScrollingX:function(t=window,e=(()=>{})){let n=uss._xMapContainerAnimationID.get(t);void 0!==n&&0!==n.length&&(n.forEach(t=>window.cancelAnimationFrame(t)),uss._xMapContainerAnimationID.set(t,[]),"function"==typeof e&&setTimeout(e,0))},stopScrollingY:function(t=window,e=(()=>{})){let n=uss._yMapContainerAnimationID.get(t);void 0!==n&&0!==n.length&&(n.forEach(t=>window.cancelAnimationFrame(t)),uss._yMapContainerAnimationID.set(t,[]),"function"==typeof e&&setTimeout(e,0))},hrefSetup:function(t=!1){const e=document.getElementsByTagName("a");for(pageLink of e){const e=document.getElementById(pageLink.href.split("#")[1]);e instanceof HTMLElement&&pageLink.addEventListener("click",n=>{n.preventDefault(),uss.scrollIntoView(e,!0,!0,t)},{passive:!1})}}};