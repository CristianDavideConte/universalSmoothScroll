const DEFAULTXSTEPLENGTH=50*window.innerWidth/1920,DEFAULTYSTEPLENGTH=50*window.innerHeight/937,DEFAULTMINANIMATIONFRAMES=5,DEFAULTSCROLLCALCULATORTESTVALUE=100;var uss={_xMapContainerAnimationID:new Map,_yMapContainerAnimationID:new Map,_xStepLengthCalculator:new Map,_yStepLengthCalculator:new Map,_xStepLength:DEFAULTXSTEPLENGTH,_yStepLength:DEFAULTYSTEPLENGTH,_minAnimationFrame:5,_reducedMotion:"matchMedia"in window&&window.matchMedia("(prefers-reduced-motion)").matches,isXscrolling:function(t=window){const n=uss._xMapContainerAnimationID.get(t);return void 0!==n&&n.length>0},isYscrolling:function(t=window){const n=uss._yMapContainerAnimationID.get(t);return void 0!==n&&n.length>0},isScrolling:function(t=window){return uss.isXscrolling(t)||uss.isYscrolling(t)},getXStepLengthCalculator:function(t=window){return uss._xStepLengthCalculator.get(t)},getYStepLengthCalculator:function(t=window){return uss._yStepLengthCalculator.get(t)},getXStepLength:function(){return uss._xStepLength},getYStepLength:function(){return uss._yStepLength},getMinAnimationFrame:function(){return uss._minAnimationFrame},getReducedMotionState:function(){return uss._reducedMotion},setXStepLengthCalculator:function(t,n=window){if("function"!=typeof t)return void console.error("USS Error:",t,"is not a function");const e=t(100,0,100,0,100,n);Number.isFinite(e)?uss._xStepLengthCalculator.set(n,t):console.error("USS Error:",t.name||"Anonymous function","didn't return a valid step value")},setYStepLengthCalculator:function(t,n=window){if("function"!=typeof t)return void console.error("USS Error:",t,"is not a function");const e=t(100,0,100,0,100,n);Number.isFinite(e)?uss._yStepLengthCalculator.set(n,t):console.error("USS Error:",t.name||"Anonymous function","didn't return a valid step value")},setStepLengthCalculator:function(t,n=window){if("function"!=typeof t)return void console.error("USS Error:",t,"is not a function");const e=t(100,0,100,0,100,n);if(Number.isFinite(e))return uss._xStepLengthCalculator.set(n,t),void uss._yStepLengthCalculator.set(n,t);console.error("USS Error:",t.name||"Anonymous function","didn't return a valid step value")},setXStepLength:function(t){Number.isFinite(t)?t<=0?console.error("USS Error:",t,"must be a positive number"):uss._xStepLength=t:console.error("USS Error:",t,"is not a number")},setYStepLength:function(t){Number.isFinite(t)?t<=0?console.error("USS Error:",t,"must be a positive number"):uss._yStepLength=t:console.error("USS Error:",t,"is not a number")},setStepLength:function(t){Number.isFinite(t)?t<=0?console.error("USS Error:",t,"must be a positive number"):(uss._xStepLength=t,uss._yStepLength=t):console.error("USS Error:",t,"is not a number")},setMinAnimationFrame:function(t){Number.isFinite(t)?t<=0?console.error("USS Error:",t,"must be a positive number"):uss._minAnimationFrame=t:console.error("USS Error:",t,"is not a number")},calcXStepLength:function(t){return t>=(uss._minAnimationFrame-1)*uss._xStepLength?uss._xStepLength:Math.round(t/uss._minAnimationFrame)},calcYStepLength:function(t){return t>=(uss._minAnimationFrame-1)*uss._yStepLength?uss._yStepLength:Math.round(t/uss._minAnimationFrame)},getScrollXCalculator:function(t=window){return t instanceof HTMLElement?()=>t.scrollLeft:t===window?()=>t.scrollX:()=>{throw console.error("USS Error: cannot determine the ScrollXCalculator of",t,"because it's neither an HTMLElement nor the window"),"USS error"}},getScrollYCalculator:function(t=window){return t instanceof HTMLElement?()=>t.scrollTop:t===window?()=>t.scrollY:()=>{throw console.error("USS Error: cannot determine the ScrollYCalculator of",t,"because it's neither an HTMLElement nor the window"),"USS error"}},getMaxScrollX:function(t=window){const n=document.documentElement,e=document.body;return t instanceof HTMLElement?t.scrollWidth-t.clientWidth:Math.max(e.scrollWidth,e.offsetWidth,e.clientWidth,n.clientWidth,n.scrollWidth,n.offsetWidth)-n.clientWidth},getMaxScrollY:function(t=window){const n=document.documentElement,e=document.body;return t instanceof HTMLElement?t.scrollHeight-t.clientHeight:Math.max(e.scrollHeight,e.offsetHeight,e.clientHeight,n.clientHeight,n.scrollHeight,n.offsetHeight)-n.clientHeight},getScrollableParent:function(t=window,n=!1){if(t===window)return window;try{let e=getComputedStyle(t);const o="absolute"===e.position,i=n?/(auto|scroll|hidden)/:/(auto|scroll)/;if("fixed"===e.position)return window;let r;for(r=t;r=r.parentElement;)if(e=getComputedStyle(r),(!o||"static"!==e.position)&&i.test(e.overflow+e.overflowY+e.overflowX)&&(r.scrollWidth>r.clientWidth||r.scrollHeight>r.clientHeight))return r;return window}catch(n){return console.error("USS Error: Couldn't get the parent container of the element",t),window}},scrollXTo:function(t,n=window,e=(()=>{}),o=!1){if(!Number.isFinite(t))return void console.error("USS Error:",t,"is not a number");if(uss.getMaxScrollX(n)<=0)return void("function"==typeof e&&window.setTimeout(e,0));t<0&&(t=0);const i=uss.getScrollXCalculator(n),r=uss.getScrollYCalculator(n);let s=t-i();const u=s>0?1:-1;if((s*=u)<=0)return void("function"==typeof e&&window.setTimeout(e,0));if(uss._reducedMotion)return n.scroll(t,r()),void("function"==typeof e&&window.setTimeout(e,0));const l=uss.calcXStepLength(s);!1===o&&uss.stopScrollingX(n,null);let c=uss._xMapContainerAnimationID.get(n);void 0===c&&(c=[]),c.push(window.requestAnimationFrame(function o(f){c=uss._xMapContainerAnimationID.get(n);c.shift();const w=i();const m=(t-w)*u;if(m<=0)return uss._xMapContainerAnimationID.set(n,c),void("function"==typeof e&&window.setTimeout(e,0));let p;d?(p=a(m,f,s,w,t,n),(!Number.isFinite(p)||p<0)&&(p=l)):p=l;if(m<=p)return n.scroll(t,r()),uss._xMapContainerAnimationID.set(n,c),void("function"==typeof e&&window.setTimeout(e,0));n.scroll(w+p*u,r());if(w===i())return uss._xMapContainerAnimationID.set(n,c),void("function"==typeof e&&window.setTimeout(e,0));c.push(window.requestAnimationFrame(o));uss._xMapContainerAnimationID.set(n,c)})),uss._xMapContainerAnimationID.set(n,c);const a=uss._xStepLengthCalculator.get(n),d="function"==typeof a},scrollYTo:function(t,n=window,e=(()=>{}),o=!1){if(!Number.isFinite(t))return void console.error("USS Error:",t,"is not a number");if(uss.getMaxScrollY(n)<=0)return void("function"==typeof e&&window.setTimeout(e,0));t<0&&(t=0);const i=uss.getScrollXCalculator(n),r=uss.getScrollYCalculator(n);let s=t-r();const u=s>0?1:-1;if((s*=u)<=0)return void("function"==typeof e&&window.setTimeout(e,0));if(uss._reducedMotion)return n.scroll(i(),t),void("function"==typeof e&&window.setTimeout(e,0));const l=uss.calcYStepLength(s);!1===o&&uss.stopScrollingY(n,null);let c=uss._yMapContainerAnimationID.get(n);void 0===c&&(c=[]),c.push(window.requestAnimationFrame(function o(f){c=uss._yMapContainerAnimationID.get(n);c.shift();const w=r();const m=(t-w)*u;if(m<=0)return uss._yMapContainerAnimationID.set(n,c),void("function"==typeof e&&window.setTimeout(e,0));let p;d?(p=a(m,f,s,w,t,n),(!Number.isFinite(p)||p<0)&&(p=l)):p=l;if(m<=p)return n.scroll(i(),t),uss._yMapContainerAnimationID.set(n,c),void("function"==typeof e&&window.setTimeout(e,0));n.scroll(i(),w+p*u);if(w===r())return uss._yMapContainerAnimationID.set(n,c),void("function"==typeof e&&window.setTimeout(e,0));c.push(window.requestAnimationFrame(o));uss._yMapContainerAnimationID.set(n,c)})),uss._yMapContainerAnimationID.set(n,c);const a=uss._yStepLengthCalculator.get(n),d="function"==typeof a},scrollXBy:function(t,n=window,e=(()=>{}),o=!1){Number.isFinite(t)?0!==t?uss.scrollXTo(uss.getScrollXCalculator(n)()+t,n,e,o):"function"==typeof e&&window.setTimeout(e,0):console.error("USS Error:",t,"is not a number")},scrollYBy:function(t,n=window,e=(()=>{}),o=!1){Number.isFinite(t)?0!==t?uss.scrollYTo(uss.getScrollYCalculator(n)()+t,n,e,o):"function"==typeof e&&window.setTimeout(e,0):console.error("USS Error:",t,"is not a number")},scrollTo:function(t,n,e=window,o=(()=>{}),i=!1){let r={__requiredSteps:1,__currentSteps:0,__function:"function"==typeof o?()=>{r.__currentSteps<r.__requiredSteps?r.__currentSteps++:o()}:null};uss.scrollXTo(t,e,r.__function,i),uss.scrollYTo(n,e,r.__function,i)},scrollBy:function(t,n,e=window,o=(()=>{}),i=!1){Number.isFinite(t)?Number.isFinite(n)?uss.scrollTo(uss.getScrollXCalculator(e)()+t,uss.getScrollYCalculator(e)()+n,e,o,i):console.error("USS Error:",n,"is not a number"):console.error("USS Error:",t,"is not a number")},scrollIntoView:function(t=window,n=!0,e=!0,o=(()=>{}),i=!1){if(t===window)return;if(!(t instanceof HTMLElement))return void console.error("USS Error:",t,"is not an HTML element");const r=uss.getScrollableParent(t,i),s=t.getBoundingClientRect();let u=r!==window?r.getBoundingClientRect():{left:0,top:0,width:window.innerWidth,height:window.innerHeight};const l=s.left-u.left,c=s.top-u.top,a=!0===n?0:!1===n?u.width-s.width:.5*(u.width-s.width),d=!0===e?0:!1===e?u.height-s.height:.5*(u.height-s.height);let f={__requiredSteps:0,__currentSteps:0,__function:"function"==typeof o?()=>{f.__currentSteps<f.__requiredSteps?f.__currentSteps++:o()}:()=>{}};if(window.setTimeout(()=>{uss.scrollBy(l-a,c-d,r,f.__function)},0),r===window)return;let w=u.left,m=u.top;const p=!0===n?0:!1===n?window.innerWidth-u.width:.5*(window.innerWidth-u.width),S=!0===e?0:!1===e?window.innerHeight-u.height:.5*(window.innerHeight-u.height);let g=w-p,h=m-S;const _=g>0?1:-1,L=h>0?1:-1;let y=uss.getScrollableParent(r,i);f.__requiredSteps++,window.setTimeout(function n(){uss.scrollBy(g,h,y,()=>y===window?(t.focus(),void f.__function()):(u=r.getBoundingClientRect(),w=u.left,m=u.top,h=m-S,(g=w-p)*_>0||h*L>0?(y=uss.getScrollableParent(y,i),void window.setTimeout(n,0)):(t.focus(),void f.__function())))},0)},stopScrollingX:function(t=window,n=(()=>{})){let e=uss._xMapContainerAnimationID.get(t);void 0!==e&&0!==e.length?(e.forEach(t=>window.cancelAnimationFrame(t)),uss._xMapContainerAnimationID.set(t,[]),"function"==typeof n&&window.setTimeout(n,0)):"function"==typeof n&&window.setTimeout(n,0)},stopScrollingY:function(t=window,n=(()=>{})){let e=uss._yMapContainerAnimationID.get(t);void 0!==e&&0!==e.length?(e.forEach(t=>window.cancelAnimationFrame(t)),uss._yMapContainerAnimationID.set(t,[]),"function"==typeof n&&window.setTimeout(n,0)):"function"==typeof n&&window.setTimeout(n,0)},stopScrolling:function(t=window,n=(()=>{})){uss.stopScrollingX(t,null),uss.stopScrollingY(t,n)},hrefSetup:function(t=!0,n=!0,e=(()=>{}),o=(()=>{}),i=!1){const r="function"==typeof e?e:()=>{},s=document.links,u=document.URL.split("#")[0];for(_pageLink of s){const e=_pageLink.href.split("#");if(e[0]!==u)continue;const s=document.getElementById(e[1]);null!==s?_pageLink.addEventListener("click",e=>{e.preventDefault(),r(_pageLink,s),uss.scrollIntoView(s,t,n,o,i)},{passive:!1}):console.warn("USS Error:",_pageLink,"doesn't have a valid destination element")}}};window.matchMedia("(prefers-reduced-motion)").addEventListener("change",()=>uss._reducedMotion=!uss._reducedMotion);
